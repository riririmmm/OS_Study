## 09-1. 운영체제를 알아야하는 이유

- **시스템 자원**
    - 프로그램 실행에 마땅히 필요한 요소
- **운영체제**
    - 실행할 프로그렘에 필요한 *자원* 할당, 프로그램이 올바르게 실행되도록 돕는 특별한 프로그램
    - 메모리 내 **커널 영역**이라는 공간에 따로 적재 & 실행
    - **사용자 영역**: 커널 영역 제외 응용 프로그램이 적재되는 나머지 영역
    - 실행할 프로그램 메모리에 적재, 더 이상 실행X 프로그램 메모리에서 삭제
    ⇒ 지속적으로 메모리 자원 관리
    - 최대한 공정하게 여러 프로그램에 CPU 자원 할당
- 운영체제 알아야 하는 이유
    - 운영체제와의 대화 통해 하드웨어 & 프로그램에 대한 이해 증진, 문제 해결의 실마리 탐색 가능

### 확인 문제

- 1번
    
    <img width="65%" src="https://github.com/user-attachments/assets/4a62dfd4-9d5d-442e-90f8-496089186d0c" />
    
    - 정답: 자원
- 2번
    
    <img width="65%" src="https://github.com/user-attachments/assets/385efc61-3a2a-4de1-bf5b-2e7507ac2c9d" />

    
    - 정답: 2번

    
## 9-02. 운영체제의 큰 그림

- **커널**
    - 자원에 접근하고 조작하는 기능, 프로그램이 올바르고 안전하게 실행되는 기능 등의 OS의 핵심 서비스를 담당하는 부분
- **사용자 인터페이스**
    - 운영체제가 제공하는 서비스 중 커널에 포함되지 않는 부분
    - 사용자가 컴퓨터와 상호작용 가능한 통로
    - **그래픽 유저 인터페이스**
        - 그래픽 기반 인터페이스
    - **커맨드 라인 인터페이스**
        - 명령어 기반 인터페이스
- **이중모드**
    - CPU가 명령어 실행 모드를 사용자 모드 / 커널 모드로 구분하는 방식
    - 응용 프로그램의 요청에 따라 운영체제가 응용 프로그램 대신에 자원에 접근하여 요청한 작업 수행
- **사용자 모드**
    - 운영체제 서비스를 제공받을 수 없는 실행 모드
    - 일반적인 응용 프로그램은 기본적으로 사용자 모드
- **시스템 호출**(시스템 콜)
    - 사용자 모드로 실행 되는 프로그램이 자원에 접근하는 운영체제 서비스를 제공받기 위해 하는 요청
    - 운영체제 서비스를 제공받기 위해 커널 모드로 전환하는 방법
    - 일종의 인터럽트
- **소프트웨어 인터럽트**
    - 인터럽트를 발생시키는 특정 명령어에 의해 발생한 인터럽트
- 시스템 호출의 작동 예: 응용 프로그램이 하드 디스크에 데이터를 저장하려 한다고 가정
    - 사용자 모드로 실행되는 동안에는 자원(하드디스크)에 접근 불가능 → 커널 모드로 전환 필요
    - ① 하드 디스크에 데이터를 저장하는 시스템 호출 발생 → 커널 모드로 전환
    - ② 운영체제 내의 ‘하드 디스크에 데이터를 저장하는 코드’ 살행 → 하드 디스크에 접근 가능
    - ③ 하드 디스크에 접근 종료 → 다시 사용자 모드로 복귀 & 마저 실행
    <img width="65%" src="https://github.com/user-attachments/assets/04af5426-807f-4b2a-8405-bf590201f190" />
- 운영체제의 핵심 서비스
    - 프로세스 관리
    - 자원 접근 및 할당
    - 파일 시스템 관리
- **프로세스 관리**
    - **프로세스**: 실행 중인 프로그램
    - 일반적으로 하나의 CPU는 한 번에 하나의 프로세스만 실행 가능 
      ⇒ 프로세스들을 조금씩 번갈아 실행
    - 여러 프로세스가 동시에 실행되는 환경에서는 **프로세스 동기화**가 필수적, **교착 상태** 해결 필요
- **자원 접근 및 할당**
    - 운영체제가 컴퓨터의 4가지 핵심부품을 어떻게 관리하고 어떤 기능 제공하는지
    - CPU
        - **CPU 스케줄링**
            - 운영체제가 프로세스들에 공정하게 CPU 할당하기 위해 어떤 프로세스부터 CPU를 이용하게 할 것인지, 얼마나 오래 CPU를 이용하게 할지를 결정하는 것
    - 메모리
        - 새로운 프로세스 적재 시마다 어느 주소에 적재할지 결정 필요
    - 입출력장치
        - 인터럽트 서비스 루틴 제공 → 입출력 작업 수행
- **파일 시스템 관리**
    - **파일 시스템**: 파일을 열고, 생성하고, 삭제하고, 이 파일들을 한데 묶어 디렉터리(폴더)로 관리하는 시스템

### c.f. 가상 머신과 이중 모드의 발전

- **가상 머신**
    - 소프트웨어어적으로 만들어낸 가상 컴퓨터
    - 가상화를 지원하는 CPU는 커널 모드 & 사용자 모드 이외에 **하이퍼바이저 모드** 지원
        - 하이퍼바이저 모드: 가상 머신을 위한 모드. 가상 머신에 설치된 운영체제로부터 운영체제 서비스 받을 수 O

### c.f. 시스템 호출의 종류

| 종류 | 시스템 호출 | 설명 |
| --- | --- | --- |
| 프로세스 관리 | fork() | 새 자식 프로세스 새엇ㅇ |
|  | execve() | 프로세스 실행(메모리 공간을 새로운 프로그램의 내용으로 덮어씌움) |
|  | exit() | 프로그램 종류 |
|  | watipid() | 자식 프로세스가 종료할 때까지 대기 |
| 파일 관리 | open() | 파일 열기 |
|  | close() | 파일 닫기 |
|  | read() | 파일 읽기 |
|  | write() | 파일 쓰기 |
|  | start() | 파일 정보 획득 |
| 디렉터리 관리 | chdir() | 작업 디렉터리 변경 |
|  | mkdir() | 디렉터리 생성 |
|  | rmdir | 비어 있는 디렉터리 삭제 |
| 파일 시스템 관리 | mount() | 파일 시스템 마운트 |
|  | umount() | 파일 시스템 마운트 해제 |

### 확인 문제

- 1번
    <img width="65%" src="https://github.com/user-attachments/assets/6456bb1d-5d0c-4fc9-94d9-5b41c9e30538" />
    - 정답: 커널
- 2번
    <img width="65%" src="https://github.com/user-attachments/assets/b21f9fd3-27af-45a5-aa05-f0d4cd9c48f4" />
    - 정답: 4번
- 3번
    <img width="65%" src="https://github.com/user-attachments/assets/0d3c4fd0-0d1d-4cc7-8d12-ed0db9ffe66d" />
    - 정답: 3번
